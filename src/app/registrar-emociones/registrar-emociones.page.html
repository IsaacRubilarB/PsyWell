<ion-content class="ion-padding" [style.background-color]="'#1A3D5D'">
  <!-- Logo centrado -->
  <div class="logo-container">
    <img src="assets/logo1.png" alt="PsyWell Logo" class="small-logo" />
  </div>

  <!-- Texto centrado -->
  <h2 class="center-text">¿Cómo te sientes hoy?</h2>

  <!-- Escala de emociones con los SVG como botones -->
  <div class="emotion-scale">
    <div class="emotion-container" [ngClass]="{'selected': selectedEmotion === 'very-angry'}">
      <img src="assets/emotes/enojado.svg" alt="Very Angry" class="emotion-icon" (click)="selectEmotion('very-angry')" />
    </div>
    <div class="emotion-container" [ngClass]="{'selected': selectedEmotion === 'angry'}">
      <img src="assets/emotes/triste.svg" alt="Angry" class="emotion-icon" (click)="selectEmotion('angry')" />
    </div>
    <div class="emotion-container" [ngClass]="{'selected': selectedEmotion === 'neutral'}">
      <img src="assets/emotes/normal.svg" alt="Neutral" class="emotion-icon" (click)="selectEmotion('neutral')" />
    </div>
    <div class="emotion-container" [ngClass]="{'selected': selectedEmotion === 'happy'}">
      <img src="assets/emotes/feliz.svg" alt="Happy" class="emotion-icon" (click)="selectEmotion('happy')" />
    </div>
    <div class="emotion-container" [ngClass]="{'selected': selectedEmotion === 'very-happy'}">
      <img src="assets/emotes/espectacular.svg" alt="Very Happy" class="emotion-icon" (click)="selectEmotion('very-happy')" />
    </div>
  </div>

  <!-- Palabras clave relacionadas con la emoción seleccionada -->
  <div *ngIf="selectedEmotion === 'very-angry'" class="emotion-keywords">
    <ion-item button>Discutí con alguien</ion-item>
    <ion-item button>Me siento frustrado</ion-item>
    <ion-item button>Tuve un mal día</ion-item>
  </div>

  <div *ngIf="selectedEmotion === 'angry'" class="emotion-keywords">
    <ion-item button>Me siento decepcionado</ion-item>
    <ion-item button>Problemas en el trabajo</ion-item>
  </div>

  <div *ngIf="selectedEmotion === 'neutral'" class="emotion-keywords">
    <ion-item button>Día normal</ion-item>
    <ion-item button>Todo tranquilo</ion-item>
  </div>

  <div *ngIf="selectedEmotion === 'happy'" class="emotion-keywords">
    <ion-item button>Me hicieron un cumplido</ion-item>
    <ion-item button>Pasé tiempo con amigos</ion-item>
    <ion-item button>Tuve un buen día</ion-item>
  </div>

  <div *ngIf="selectedEmotion === 'very-happy'" class="emotion-keywords">
    <ion-item button>Logré una meta</ion-item>
    <ion-item button>Recibí buenas noticias</ion-item>
  </div>

  <!-- Campo de comentarios con nuevo comportamiento -->
  <ion-item class="comment-box">
    <ion-label *ngIf="comment === ''" position="floating">Escribe un comentario (opcional)</ion-label>
    <ion-textarea [(ngModel)]="comment"></ion-textarea>
  </ion-item>

  <!-- Botón Guardar centrado -->
  <div class="button-container">
    <ion-button expand="full" (click)="saveEmotion()">Guardar</ion-button>
  </div>

  <!-- Recordatorio de toma de pastillas -->
  <ion-item lines="none" class="toggle-medication">
    <ion-avatar slot="start">
      <img src="assets/emotes/pastilla.svg" alt="Recordatorio de pastilla" class="pill-icon" />
    </ion-avatar>
    <ion-label>¿Cuidaste de ti mismo hoy?</ion-label>
    <ion-toggle [(ngModel)]="remindMedication"></ion-toggle>
  </ion-item>

  <!-- Gratificación emocional -->
  <div *ngIf="showGratification" class="gratification-overlay" (click)="closeOverlay()">
    <img [src]="'assets/image.registro/' + getEmotionImage(sexoPaciente, selectedEmotion)" class="gratification-image" alt="Gratificación emocional" />
    <span class="close-button" (click)="closeOverlay()">✖</span>
  </div>
</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-segment>
      <!-- Botón de registrar emociones -->
      <ion-segment-button [ngClass]="{'active-segment': currentSegment === 'registrar-emociones'}" (click)="navigateTo('/registrar-emociones')">
        <img src="assets/emotes/calendario.svg" alt="Registrar emociones" class="nav-icon" />
      </ion-segment-button>
      <!-- Botón de home -->
      <ion-segment-button [ngClass]="{'active-segment': currentSegment === 'home'}" (click)="navigateTo('/home')">
        <img src="assets/emotes/home.svg" alt="Home" class="nav-icon" />
      </ion-segment-button>
      <!-- Botón de tips -->
      <ion-segment-button [ngClass]="{'active-segment': currentSegment === 'tips'}" (click)="navigateTo('/tips')">
        <img src="assets/emotes/tranquilidad.svg" alt="Tips" class="nav-icon" />
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-footer>
